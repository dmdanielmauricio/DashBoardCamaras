<UserControl x:Class="ANPRViewer.Controls.CameraControlOpenCV"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border Background="#2E2E3E" CornerRadius="8" BorderBrush="#444" BorderThickness="1" Margin="2">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header con nombre de cámara -->
            <Border Grid.Row="0" Background="#1A1A2E" CornerRadius="8,8,0,0" Padding="8,4">
                <Grid>
                    <TextBlock x:Name="CameraNameText" Text="Cámara" 
                               Foreground="White" FontWeight="Bold" FontSize="12"
                               HorizontalAlignment="Left" VerticalAlignment="Center"/>

                    <Ellipse x:Name="StatusIndicator" Width="8" Height="8" 
                             Fill="Red" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>
            </Border>

            <!-- Video Player -->
            <Image x:Name="CameraImage" Grid.Row="1" Stretch="Uniform"/>

            <!-- Overlay para cuando no hay video -->
            <Grid x:Name="NoVideoOverlay" Grid.Row="1" Background="#1E1E2E" 
                  Visibility="Visible">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="📷" FontSize="48" Foreground="#666" 
                               HorizontalAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock x:Name="OverlayText" Text="Sin conexión" Foreground="#888" FontSize="14" 
                               HorizontalAlignment="Center"/>
                    <TextBlock x:Name="ErrorText" Text="" Foreground="#FF6B6B" 
                               FontSize="10" HorizontalAlignment="Center" 
                               Margin="0,4,0,0" TextWrapping="Wrap"/>
                </StackPanel>
            </Grid>

            <!-- Footer con controles -->
            <Border Grid.Row="2" Background="#1A1A2E" CornerRadius="0,0,8,8" 
                    Padding="8,4" Height="28">
                <Grid>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <Button x:Name="PlayPauseButton" Content="▶" 
                                Background="Transparent" Foreground="White" 
                                BorderThickness="0" Padding="4,2" FontSize="10"
                                Click="PlayPauseButton_Click" Cursor="Hand"/>
                        <Button x:Name="ReconnectButton" Content="🔄" 
                                Background="Transparent" Foreground="White" 
                                BorderThickness="0" Padding="4,2" FontSize="10"
                                Click="ReconnectButton_Click" Cursor="Hand"/>
                    </StackPanel>

                    <TextBlock x:Name="QualityText" Text="" Foreground="#888" 
                               FontSize="9" HorizontalAlignment="Right" 
                               VerticalAlignment="Center"/>
                </Grid>
            </Border>
        </Grid>
    </Border>
</UserControl>

